{"remainingRequest":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js!/home/pena/python/mini-proj2/node_modules/eslint-loader/index.js??ref--13-0!/home/pena/python/mini-proj2/src/store/auth/auth.module.js","dependencies":[{"path":"/home/pena/python/mini-proj2/src/store/auth/auth.module.js","mtime":1618989262000},{"path":"/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pena/python/mini-proj2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9wZW5hL3B5dGhvbi9taW5pLXByb2oyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9wZW5hL3B5dGhvbi9taW5pLXByb2oyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCnZhciBfYWN0aW9ucywgX211dGF0aW9uczsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBhdXRoU2VydmljZSB9IGZyb20gIkAvYXBpL2F1dGguc2VydmljZS5qcyI7CmltcG9ydCB7IEFVVEhfTE9HSU4sIEFVVEhfUkVHSVNURVIsIEFVVEhfSU5GTywgQVVUSF9MT0dJTl9TVUNDRVNTLCBBVVRIX0xPR09VVF9TVUNDRVNTLCBBVVRIX1JFR0lTVEVSX1NVQ0NFU1MsIFNFVF9NRVNTQUdFIH0gZnJvbSAiLi9hdXRoLmNvbnN0YW50cyI7CmltcG9ydCB7IFNUT1JBR0VfQUNDRVNTX1RPS0VOLCBTVE9SQUdFX1VTRVJfUFJPRklMRSB9IGZyb20gIi4uL2NvbnN0YW50cyI7CnZhciBzdGF0ZSA9IHsKICBtZXNzYWdlOiAiIiwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9BQ0NFU1NfVE9LRU4pIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9BQ0NFU1NfVE9LRU4pIHx8ICIiLAogIHByb2ZpbGU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpIHx8ICJ7fSIpCn07IC8vIGdldHRlcnMKCnZhciBnZXR0ZXJzID0gewogIGlzVXNlckxvZ2dlZEluOiBmdW5jdGlvbiBpc1VzZXJMb2dnZWRJbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuICE9ICIiOwogIH0sCiAgZ2V0UHJvZmlsZU5hbWU6IGZ1bmN0aW9uIGdldFByb2ZpbGVOYW1lKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZS5uYW1lOwogIH0sCiAgZ2V0VXNlclR5cGU6IGZ1bmN0aW9uIGdldFVzZXJUeXBlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZS50eXBlOwogIH0sCiAgZ2V0UHJvZmlsZTogZnVuY3Rpb24gZ2V0UHJvZmlsZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb2ZpbGU7CiAgfSwKICBnZXRNZXNzYWdlOiBmdW5jdGlvbiBnZXRNZXNzYWdlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubWVzc2FnZTsKICB9Cn07IC8vIGFjdGlvbnMKCnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9MT0dJTiwgZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmxvZ2luKHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgY29tbWl0KEFVVEhfTE9HSU5fU1VDQ0VTUywgewogICAgICAgICAgICAgICAgICB0b2tlbjogcmVzLnRva2VuLAogICAgICAgICAgICAgICAgICBwcm9maWxlOiByZXMucHJvZmlsZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb21taXQoU0VUX01FU1NBR0UsICJCZW0tdmluZG8sICIuY29uY2F0KHJlcy5wcm9maWxlLm5hbWUsICIhIikpOwogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRIX1JFR0lTVEVSLCBmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMywgcGF5bG9hZCkgewogICAgdmFyIGNvbW1pdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICBhdXRoU2VydmljZS5yZWdpc3RlcihwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChTRVRfTUVTU0FHRSwgIk8gdXRpbGl6YWRvciAiLmNvbmNhdChyZXMuYm9keS5uYW1lLCAiIGZvaSBhZGljaW9uYWRvIGNvbSBzdWNlc3NvISIpKTsKICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9JTkZPLCBmdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWY2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmNSkgewogICAgdmFyIGNvbW1pdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gY29tbWl0OwogICAgICAgICAgICBfY29udGV4dDMudDEgPSBTRVRfTUVTU0FHRTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gYXV0aFNlcnZpY2UuZ2V0SW5mbyggLy8iZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SndheUk2SWpsamF6ZGhhMlJxYlRaM05XUmxNamxsTVRnd1pEbG1aV013TURBME5EazVOVGt4SWl3aWFXRjBJam94TlRjMU1UVXhNVGM0TENKbGVIQWlPakUxTnpVeE5qWXhOemdzSW1semN5STZJa1pEUVNKOS5YU2x0TVd0Z1NrcnBnOUpjVTE4WkpBNVM0WkhMdkZPQ2pHT1FJbzlPNVE0IgogICAgICAgICAgICAiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SndheUk2SW1FeFpuTjJlbXRsTlRod05XUmtaRFJpWTJRMllUZG1NakUxTXpGall6UTJaalJqSWl3aWFXRjBJam94TlRjME56Z3pPVFE1TENKbGVIQWlPakUxTnpRM09UZzVORGtzSW1semN5STZJa1pEUVNKOS44RU5MMXlQRDYxdHF0VnZQNDdDVWc3VDNMRWs4Z0hIcUp6TlZtN2JfWFZBIik7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBfY29udGV4dDMudDIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgKDAsIF9jb250ZXh0My50MCkoX2NvbnRleHQzLnQxLCBfY29udGV4dDMudDIpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9hY3Rpb25zKTsgLy8gbXV0YXRpb25zCgpleHBvcnQgdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR0lOX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSwgZGF0YSkgewogIHN0YXRlLnRva2VuID0gZGF0YS50b2tlbjsKICBsb2NhbFN0b3JhZ2UuU1RPUkFHRV9BQ0NFU1NfVE9LRU4gPSBkYXRhLnRva2VuOwogIHN0YXRlLnByb2ZpbGUgPSBkYXRhLnByb2ZpbGU7CiAgbG9jYWxTdG9yYWdlLlNUT1JBR0VfVVNFUl9QUk9GSUxFID0gSlNPTi5zdHJpbmdpZnkoZGF0YS5wcm9maWxlKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR09VVF9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS50b2tlbiA9ICIiOwogIHN0YXRlLnByb2ZpbGUgPSB7fTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0FDQ0VTU19UT0tFTik7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfUkVHSVNURVJfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlLCBkYXRhKSB7CiAgc3RhdGUucmVnaXN0ZXIgPSBkYXRhOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9NRVNTQUdFLCBmdW5jdGlvbiAoc3RhdGUsIG1lc3NhZ2UpIHsKICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/pena/python/mini-proj2/src/store/auth/auth.module.js"],"names":["authService","AUTH_LOGIN","AUTH_REGISTER","AUTH_INFO","AUTH_LOGIN_SUCCESS","AUTH_LOGOUT_SUCCESS","AUTH_REGISTER_SUCCESS","SET_MESSAGE","STORAGE_ACCESS_TOKEN","STORAGE_USER_PROFILE","state","message","token","localStorage","getItem","sessionStorage","profile","JSON","parse","getters","isUserLoggedIn","getProfileName","name","getUserType","type","getProfile","getMessage","actions","payload","commit","Promise","resolve","reject","login","then","res","catch","err","register","body","getInfo","mutations","data","stringify","removeItem","namespaced"],"mappings":"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","sourcesContent":["import { authService } from \"@/api/auth.service.js\";\nimport {\n  AUTH_LOGIN,\n  AUTH_REGISTER,\n  AUTH_INFO,\n  AUTH_LOGIN_SUCCESS,\n  AUTH_LOGOUT_SUCCESS,\n  AUTH_REGISTER_SUCCESS,\n  SET_MESSAGE\n} from \"./auth.constants\";\n\nimport { STORAGE_ACCESS_TOKEN, STORAGE_USER_PROFILE } from \"../constants\";\n\nconst state = {\n  message: \"\",\n  token:\n    localStorage.getItem(STORAGE_ACCESS_TOKEN) ||\n    sessionStorage.getItem(STORAGE_ACCESS_TOKEN) ||\n    \"\",\n  profile: JSON.parse(\n    localStorage.getItem(STORAGE_USER_PROFILE) ||\n      sessionStorage.getItem(STORAGE_USER_PROFILE) ||\n      \"{}\"\n  )\n};\n\n// getters\nconst getters = {\n  isUserLoggedIn: state => state.token != \"\",\n  getProfileName: state => state.profile.name,\n  getUserType: state => state.profile.type,\n  getProfile: state => state.profile,\n  getMessage: state => state.message\n};\n\n// actions\nconst actions = {\n  [AUTH_LOGIN]: async ({ commit }, payload) => {\n    return new Promise((resolve, reject) => {\n      authService\n      .login(payload)\n      .then(res => {\n          commit(AUTH_LOGIN_SUCCESS, {token: res.token, profile: res.profile});\n          commit(SET_MESSAGE, `Bem-vindo, ${res.profile.name}!`);\n          resolve(res);\n      })\n      .catch(err => reject(err))\n      \n    })\n  },\n\n  [AUTH_REGISTER]: async ({ commit }, payload) => {\n    return new Promise((resolve, reject) => {\n      authService.register(payload)\n      .then(res => {\n          commit(SET_MESSAGE, `O utilizador ${res.body.name} foi adicionado com sucesso!`);\n          resolve(res);\n      })\n      .catch(err => reject(err))\n    });\n  },\n\n  [AUTH_INFO]: async ({ commit }) => {\n    commit(\n      SET_MESSAGE,\n      await authService.getInfo(\n        //\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwayI6Ijljazdha2RqbTZ3NWRlMjllMTgwZDlmZWMwMDA0NDk5NTkxIiwiaWF0IjoxNTc1MTUxMTc4LCJleHAiOjE1NzUxNjYxNzgsImlzcyI6IkZDQSJ9.XSltMWtgSkrpg9JcU18ZJA5S4ZHLvFOCjGOQIo9O5Q4\"\n          \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwayI6ImExZnN2emtlNThwNWRkZDRiY2Q2YTdmMjE1MzFjYzQ2ZjRjIiwiaWF0IjoxNTc0NzgzOTQ5LCJleHAiOjE1NzQ3OTg5NDksImlzcyI6IkZDQSJ9.8ENL1yPD61tqtVvP47CUg7T3LEk8gHHqJzNVm7b_XVA\"\n      )\n    );\n  }\n};\n\n// mutations\nexport const mutations = {\n  [AUTH_LOGIN_SUCCESS]: (state, data) => {\n    state.token = data.token;\n    localStorage.STORAGE_ACCESS_TOKEN = data.token;\n    state.profile = data.profile;\n    localStorage.STORAGE_USER_PROFILE = JSON.stringify(data.profile);\n  },\n\n  [AUTH_LOGOUT_SUCCESS]: state => {\n    state.token = \"\";\n    state.profile = {};\n    localStorage.removeItem(STORAGE_ACCESS_TOKEN);\n    localStorage.removeItem(STORAGE_USER_PROFILE);\n  },\n  [AUTH_REGISTER_SUCCESS]: (state, data) => {\n    state.register = data;\n  },\n  [SET_MESSAGE]: (state, message) => {\n    state.message = message;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}