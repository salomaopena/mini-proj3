{"remainingRequest":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js!/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pena/python/mini-proj2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pena/python/mini-proj2/src/views/animals/ListAnimals.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pena/python/mini-proj2/src/views/animals/ListAnimals.vue","mtime":1618989262000},{"path":"/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pena/python/mini-proj2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3BlbmEvcHl0aG9uL21pbmktcHJvajIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9wZW5hL3B5dGhvbi9taW5pLXByb2oyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBGRVRDSF9BTklNQUxTLCBSRU1PVkVfQU5JTUFMIH0gZnJvbSAiQC9zdG9yZS9hbmltYWxzL2FuaW1hbC5jb25zdGFudHMiOwppbXBvcnQgSGVhZGVyUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvSGVhZGVyUGFnZS52dWUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFuYWdlQW5pbWFscyIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyUGFnZTogSGVhZGVyUGFnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFuaW1hbHM6IFtdLAogICAgICBzb3J0VHlwZTogMQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCJhbmltYWwiLCBbImdldEFuaW1hbHMiLCAiZ2V0TWVzc2FnZSJdKSksCiAgbWV0aG9kczogewogICAgZmV0Y2hBbmltYWxzOiBmdW5jdGlvbiBmZXRjaEFuaW1hbHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYW5pbWFsLyIuY29uY2F0KEZFVENIX0FOSU1BTFMpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5hbmltYWxzID0gX3RoaXMuZ2V0QW5pbWFsczsKICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRhbGVydCgiIi5jb25jYXQoZXJyLm1lc3NhZ2UpLCAiRXJybyIsICJlcnJvciIpOwogICAgICB9KTsKICAgIH0sCiAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KCkgewogICAgICB0aGlzLmFuaW1hbHMuc29ydCh0aGlzLmNvbXBhcmVOYW1lcyk7CiAgICAgIHRoaXMuc29ydFR5cGUgKj0gLTE7CiAgICB9LAogICAgY29tcGFyZU5hbWVzOiBmdW5jdGlvbiBjb21wYXJlTmFtZXModTEsIHUyKSB7CiAgICAgIGlmICh1MS5uYW1lID4gdTIubmFtZSkgcmV0dXJuIDEgKiB0aGlzLnNvcnRUeXBlO2Vsc2UgaWYgKHUxLm5hbWUgPCB1Mi5uYW1lKSByZXR1cm4gLTEgKiB0aGlzLnNvcnRUeXBlO2Vsc2UgcmV0dXJuIDA7CiAgICB9LAogICAgdmlld0FuaW1hbDogZnVuY3Rpb24gdmlld0FuaW1hbChpZCkgewogICAgICB2YXIgYW5pbWFsID0gdGhpcy5hbmltYWxzLmZpbmQoZnVuY3Rpb24gKGFuaW1hbCkgewogICAgICAgIHJldHVybiBhbmltYWwuX2lkID09PSBpZDsKICAgICAgfSk7CiAgICAgIHRoaXMuJGZpcmUoewogICAgICAgIHRpdGxlOiBhbmltYWwubmFtZSwKICAgICAgICBodG1sOiB0aGlzLmdlbmVyYXRlVGVtcGxhdGUoYW5pbWFsKSwKICAgICAgICBpbWFnZVVybDogYW5pbWFsLmxpbmtzWzBdLnVybCwKICAgICAgICBpbWFnZVdpZHRoOiA0MDAsCiAgICAgICAgaW1hZ2VIZWlnaHQ6IDIwMCwKICAgICAgICBpbWFnZUFsdDogIkltYWdlbSBkZXNjb25oZWNpZGEiCiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlVGVtcGxhdGU6IGZ1bmN0aW9uIGdlbmVyYXRlVGVtcGxhdGUoYW5pbWFsKSB7CiAgICAgIHZhciByZXNwb25zZSA9ICJcbiAgICAgICAgICA8aDQ+R3J1cG86PC9iPiAiLmNvbmNhdChhbmltYWwuZ3JvdXAsICI8L2g0PlxuICAgICAgICAgIDxoNT4oblx4RUR2ZWw6PC9iPiAiKS5jb25jYXQoYW5pbWFsLmxldmVsLCAiKTwvaDU+XG4gICAgICAgICAgPHA+IikuY29uY2F0KGFuaW1hbC5kZXNjcmlwdGlvbiwgIjwvcD4gXG4gICAgICAgICAgPHA+RWxlbWVudG9zIG11bHRpbVx4RTlkaWE6XG4gICAgICAgICIpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFuaW1hbC5saW5rcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBsaW5rID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICByZXNwb25zZSArPSAiIDxhIGhyZWY9JyIuY29uY2F0KGxpbmsudXJsLCAiJyB0YXJnZXQ9J19ibGFuayc+IikuY29uY2F0KGxpbmsudHlwZXMsICI8L2E+Iik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJlc3BvbnNlICs9ICI8L3A+PHA+Q29tZW50XHhFMXJpb3M6ICIuY29uY2F0KGFuaW1hbC5jb21tZW50cy5sZW5ndGgsICIgQXZhbGlhXHhFN1x4RjVlczogIikuY29uY2F0KGFuaW1hbC5ldmFsdWF0aW9uLmxlbmd0aCwgIjwvcD4gIik7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sCiAgICByZW1vdmVBbmltYWw6IGZ1bmN0aW9uIHJlbW92ZUFuaW1hbChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIlNlIHNpbSwgY2xpcXVlIGVtIE9LIiwgIkRlc2VqYSBtZXNtbyByZW1vdmVyIG8gYW5pbWFsPyIsICJ3YXJuaW5nIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiT0siLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWxhciIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiYW5pbWFsLyIuY29uY2F0KFJFTU9WRV9BTklNQUwpLCBpZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuJGFsZXJ0KF90aGlzMi5nZXRNZXNzYWdlLCAiQW5pbWFsIHJlbW92aWRvISIsICJzdWNjZXNzIik7CgogICAgICAgICAgX3RoaXMyLmZldGNoQW5pbWFscygpOwogICAgICAgIH0pOwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRhbGVydCgiUmVtb8Onw6NvIGNhbmNlbGFkYSEiLCAiSW5mb3JtYcOnw6NvIiwgImluZm8iKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEFuaW1hbHMoKTsKICB9Cn07"},{"version":3,"sources":["ListAnimals.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section class=\"page-section\">\n    <b-container>\n      <HeaderPage title=\"Gestão de Animais\" />\n      <!--MENU TOPO-->\n      <b-row class=\"mb-4\">\n        <b-col cols=\"2\"></b-col>\n        <b-col>\n          <router-link\n            :to=\"{name:'addAnimal'}\"\n            tag=\"button\"\n            class=\"btn btn-outline-success mr-2 mt-2\"\n          >\n            <i class=\"fas fa-plus-square\"></i> ADICIONAR ANIMAL\n          </router-link>\n          <router-link :to=\"{name:'admin'}\" tag=\"button\" class=\"btn btn-outline-info mr-2 mt-2\">\n            <i class=\"fas fa-bars\"></i> MENU PRINCIPAL\n          </router-link>\n        </b-col>\n        <b-col cols=\"2\"></b-col>\n      </b-row>\n\n      <!--TABLE-->\n      <b-row>\n        <b-col cols=\"2\"></b-col>\n        <b-col>\n          <table class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">\n                  NOME\n                  <i class=\"fas fa-arrow-up\" v-if=\"sortType===1\" @click=\"sort()\"></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">GRUPO</th>\n                <th scope=\"col\">NÍVEL</th>\n                <th scope=\"col\">AÇÕES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"animal of animals\" :key=\"animal._id\">\n                <td class=\"pt-4\">{{animal.name}}</td>\n                <td class=\"pt-4\">{{animal.group}}</td>\n                <td class=\"pt-4\">{{animal.level}}</td>\n                <td>\n                  <router-link\n                    :to=\"{name:'editAnimal', params:{animalId: animal._id}}\"\n                    tag=\"button\"\n                    class=\"btn btn-outline-success mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-edit\"></i> EDITAR\n                  </router-link>\n                  <button\n                    @click=\"viewAnimal(animal._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-success mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-search\"></i> VER\n                  </button>\n                  <button\n                    @click=\"removeAnimal(animal._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-danger mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-trash-alt\"></i> REMOVER\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </b-col>\n        <b-col cols=\"2\"></b-col>\n      </b-row>\n    </b-container>\n  </section>\n</template>\n\n<script>\nimport { FETCH_ANIMALS, REMOVE_ANIMAL } from \"@/store/animals/animal.constants\";\nimport HeaderPage from \"@/components/HeaderPage.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ManageAnimals\",\n  components: {\n    HeaderPage\n  },\n  data: function() {\n    return {\n      animals: [],\n      sortType: 1\n    };\n  },\n  computed: {\n    ...mapGetters(\"animal\", [\"getAnimals\", \"getMessage\"])\n  },\n  methods: {\n    fetchAnimals() {\n      this.$store.dispatch(`animal/${FETCH_ANIMALS}`).then(\n        () => {\n          this.animals = this.getAnimals;\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    },\n    sort() {\n      this.animals.sort(this.compareNames);\n      this.sortType *= -1;\n    },\n    compareNames(u1, u2) {\n      if (u1.name > u2.name) return 1 * this.sortType;\n      else if (u1.name < u2.name) return -1 * this.sortType;\n      else return 0;\n    },\n\n    viewAnimal(id) {\n      const animal = this.animals.find(animal => animal._id === id);\n\n      this.$fire({\n        title: animal.name,\n        html: this.generateTemplate(animal),\n        imageUrl: animal.links[0].url,\n        imageWidth: 400,\n        imageHeight: 200,\n        imageAlt: \"Imagem desconhecida\"\n      });\n    },\n\n    generateTemplate(animal) {\n      let response = `\n          <h4>Grupo:</b> ${animal.group}</h4>\n          <h5>(nível:</b> ${animal.level})</h5>\n          <p>${animal.description}</p> \n          <p>Elementos multimédia:\n        `;\n      for (const link of animal.links) {\n        response += ` <a href='${link.url}' target='_blank'>${link.types}</a>`;\n      }\n      response += `</p><p>Comentários: ${animal.comments.length} Avaliações: ${animal.evaluation.length}</p> `;\n      return response;\n    },\n    removeAnimal(id) {\n      this.$confirm(\n        \"Se sim, clique em OK\",\n        \"Deseja mesmo remover o animal?\",\n        \"warning\",\n        { confirmButtonText: \"OK\", cancelButtonText: \"Cancelar\" }\n      ).then(\n        () => {\n          this.$store.dispatch(`animal/${REMOVE_ANIMAL}`, id).then(() => {\n            this.$alert(this.getMessage, \"Animal removido!\", \"success\");\n            this.fetchAnimals();\n          });\n        },\n        () => {\n          this.$alert(\"Remoção cancelada!\", \"Informação\", \"info\");\n        }\n      );\n    }\n  },\n  created() {\n    this.fetchAnimals();\n  }\n};\n</script>"],"sourceRoot":"src/views/animals"}]}