{"remainingRequest":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js!/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pena/python/mini-proj2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pena/python/mini-proj2/src/components/Animal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pena/python/mini-proj2/src/components/Animal.vue","mtime":1618989262000},{"path":"/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pena/python/mini-proj2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pena/python/mini-proj2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pena/python/mini-proj2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcGVuYS9weXRob24vbWluaS1wcm9qMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEVESVRfQU5JTUFMIH0gZnJvbSAiQC9zdG9yZS9hbmltYWxzL2FuaW1hbC5jb25zdGFudHMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQW5pbWFsIiwKICBwcm9wczogWyJhbmltYWwiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3I6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCJhdXRoIiwgWyJnZXRQcm9maWxlIl0pKSwge30sIHsKICAgIGV2YWx1YXRlOiBmdW5jdGlvbiBldmFsdWF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5hbmltYWwuZXZhbHVhdGlvbi5pbmNsdWRlcyh0aGlzLmdldFByb2ZpbGUoKS5faWQpKSB7CiAgICAgICAgdGhpcy5hbmltYWwuZXZhbHVhdGlvbi5wdXNoKHRoaXMuZ2V0UHJvZmlsZSgpLl9pZCk7CiAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYW5pbWFsLmV2YWx1YXRpb24gPSB0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgcmV0dXJuIHVzZXIgIT09IF90aGlzLmdldFByb2ZpbGUoKS5faWQ7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jb2xvciA9ICJibGFjayI7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhbmltYWwvIi5jb25jYXQoRURJVF9BTklNQUwpLCB0aGlzLmFuaW1hbCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGFsZXJ0KCJPYnJpZ2FkbyBwb3IgZ29zdGFyZXMgZG8gIi5jb25jYXQoX3RoaXMuYW5pbWFsLm5hbWUsICIhIiksICJHb3N0byIsICJzdWNjZXNzIik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kYWxlcnQoIiIuY29uY2F0KGVyci5tZXNzYWdlKSwgIkVycm8iLCAiZXJyb3IiKTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy5hbmltYWwuZXZhbHVhdGlvbi5pbmNsdWRlcyh0aGlzLmdldFByb2ZpbGUoKS5faWQpKSB7CiAgICAgIHRoaXMuY29sb3IgPSAiYmxhY2siOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb2xvciA9ICJyZWQiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Animal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,WAAA,QAAA,kCAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA,CAAA,QAAA,CAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,OAAA,kCACA,UAAA,CAAA,MAAA,EAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,QAFA,sBAEA;AAAA;;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,UAAA,CAAA,QAAA,CAAA,KAAA,UAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KAAA,UAAA,GAAA,GAAA;AACA,aAAA,KAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,MAAA,CAAA,UAAA,GAAA,KAAA,MAAA,CAAA,UAAA,CAAA,MAAA,CACA,UAAA,IAAA;AAAA,iBAAA,IAAA,KAAA,KAAA,CAAA,UAAA,GAAA,GAAA;AAAA,SADA,CAAA;AAGA,aAAA,KAAA,GAAA,OAAA;AACA;;AACA,WAAA,MAAA,CAAA,QAAA,kBAAA,WAAA,GAAA,KAAA,MAAA,EAAA,IAAA,CACA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,oCACA,KAAA,CAAA,MAAA,CAAA,IADA,QAEA,OAFA,EAGA,SAHA;AAKA,OAPA,EAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,WAAA,GAAA,CAAA,OAAA,GAAA,MAAA,EAAA,OAAA;AACA,OAVA;AAYA;AAxBA,IARA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,QAAA,CAAA,KAAA,MAAA,CAAA,UAAA,CAAA,QAAA,CAAA,KAAA,UAAA,GAAA,GAAA,CAAA,EAAA;AACA,WAAA,KAAA,GAAA,OAAA;AACA,KAFA,MAEA;AACA,WAAA,KAAA,GAAA,KAAA;AACA;AACA;AAxCA,CAAA","sourcesContent":["<template>\n  <b-col cols=\"4\">\n    <b-card\n      :title=\"animal.name\"\n      :img-src=\"animal.links[0].url\"\n      img-alt=\"Image\"\n      img-top\n      tag=\"article\"\n      style=\"max-width: 20rem;\"\n      class=\"mb-5\"\n    >\n      <b-card-text>\n        <kbd>{{ animal.group }}</kbd>&nbsp;\n        <kbd style=\"background-color: red\">n√≠vel {{ animal.level }}</kbd>\n      </b-card-text>\n      <b-card-text>{{animal.description}}</b-card-text>\n      <b-card-text align=\"left\">\n        <i class=\"fas fa-star fa-lg\" :style=\"{color}\" @click=\"evaluate()\"></i>\n        {{animal.evaluation.length}}\n        <i class=\"fas fa-comment fa-lg ml-2\"></i>\n        {{animal.comments.length}}\n      </b-card-text>\n\n      <router-link\n        :to=\"{name: 'animal', params:{animalId: animal._id}}\"\n        tag=\"b-button\"\n        variant=\"outline-success\"\n        align=\"center\"\n        class=\"mr-2\"\n      >\n        <i class=\"fas fa-search\"></i> ver animal\n      </router-link>\n      <b-button variant=\"info\" :href=\"'https://www.facebook.com/sharer/sharer.php?u=' + animal.links[0].url\" target=\"_blank\">\n        <i class=\"fab fa-facebook\"></i> Partilhar\n      </b-button>\n\n    </b-card>\n  </b-col>\n</template>\n\n<script>\nimport { EDIT_ANIMAL } from \"@/store/animals/animal.constants\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Animal\",\n  props: [\"animal\"],\n  data: function() {\n    return {\n      color: \"\"\n    };\n  },\n  methods: {\n    ...mapGetters(\"auth\", [\"getProfile\"]),\n    evaluate() {\n      if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n        this.animal.evaluation.push(this.getProfile()._id);\n        this.color = \"red\";\n      } else {\n        this.animal.evaluation = this.animal.evaluation.filter(\n          user => user !== this.getProfile()._id\n        );\n        this.color = \"black\";\n      }\n      this.$store.dispatch(`animal/${EDIT_ANIMAL}`, this.animal).then(\n        () => {\n          this.$alert(\n            `Obrigado por gostares do ${this.animal.name}!`,\n            \"Gosto\",\n            \"success\"\n          );\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    }\n  },\n  created() {\n    if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n      this.color = \"black\";\n    } else {\n      this.color = \"red\";\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}